# Legacy Gap Report

## Чего не хватает относительно фреймворка
- Нет продуктового кода/данных/фикстур — задачи db-schema/business-logic/UI не опираются на факты.
- Не приложены задекларированные CSV (`plans_2026.csv`, `zip_rating_map_2026.csv`, `fpl_2026.csv`, `slcsp_2026.csv`) и доп. ТЗ (`docs/tech-spec-ru.md`, `tech-addendum-1-ru.md`, `data-templates-ru.md`, `inputs-required-ru.md`).
- Отсутствует проверка окружения: runner CLI, PyYAML, доступ к git worktree, права на запись — оркестратор не валидирует и падает/зависает.
- Нет автоматических тестов/CI, нет lint/format, нет health-checkов для логов/отчётов.
- Частичная редакция секретов: нестандартные токены могут попасть в логи/бандл.

## Качество процесса
- DoD: не зафиксирован; нет критериев готовности артефактов/релиза.
- Review: шаблоны есть (`framework/review/*`), но реальных ревью/результатов нет.
- Tests: отсутствуют автотесты и pipeline; тест-план не заполнялся.
- Observability: только файловые логи оркестратора; нет метрик/оповещений/ретеншена.

## Риски при миграции
- Запуск на машинах без runner CLI/прав записи приведёт к падению пайплайна.
- Возможные утечки секретов при публикации отчётов (редакция покрывает не все паттерны).
- Коллизии worktree/веток при повторных запусках без очистки.
- Недетерминированные результаты из-за отсутствия тестов и исходных данных.
