# Task: Discovery & Full Spec Synthesis

## Goal
Провести единое глубокое интервью (100+ вопросов) простым языком для **негиковатого доменного эксперта** и на его основе сгенерировать полное ТЗ, план работ и тест‑план без дальнейших уточнений.

## Inputs
- Ответы пользователя в ходе интервью (собираются в этом же сеансе).
- Любые предоставленные файлы/ссылки (если есть).
- Описание персоны: см. `framework/docs/user-persona.md`.

## Outputs
- framework/docs/discovery/interview.md — протокол вопросов/ответов.
- framework/docs/tech-spec-generated.md — структурированное ТЗ.
- framework/docs/plan-generated.md — план задач/итераций с зависимостями.
- framework/docs/data-inputs-generated.md — перечень требуемых данных/шаблонов/фикстур.
- framework/review/test-plan.md — заполненный тест‑план (unit/E2E/acceptance/perf/security).
- (если режим legacy) обновить framework/migration/legacy-snapshot.md и legacy-tech-spec.md фактами из интервью.

## Approach
1) Говори человеческим языком: не употребляй git/CI/ветки/runner/env, перефразируй ответ («Правильно ли я понял, что…?»), показывай прогресс по секциям.
2) Закрывай блоки батчами: цели и роли, пользовательские флоу, доменные правила, данные/схемы, интеграции, безопасность/соответствие, перформанс/SLO, деплой/операции, наблюдаемость, миграции/катастрофоустойчивость, тесты/качество, ограничения/риски.
3) Минимизируй обратную связь: если нет факта — предложи вариант и пометь как TODO/ASSUMPTION.
4) После интервью сам сгенерируй все выходные файлы. В тест‑план добавь позитив/негатив/E2E, smoke, security, perf, regression.
   - Команда: `python3 framework/tools/generate-artifacts.py --overwrite`
5) Форматируй результаты компактно, без жаргона; явно помечай UNKNOWN/ASSUMPTION.

## Done When
- Все выходные файлы созданы и заполнены.
- Оставшиеся вопросы сведены в разделе TODO/UNKNOWN в каждом документе.

## Минимальные критерии «достаточно вопросов»
- Цель продукта (Q1), роли (Q2), ожидаемый результат (Q3), ключевой сценарий (Q5).
- Формат финального уведомления (Q6) и критерии успеха (Q8).
- Правила стоп‑точек (Q10) и работы с секретами (Q12).
- Логирование/отчётность (Q13) и стек по умолчанию (Q14).
- Деплой (Q16) и интеграции (Q17).
- Формат артефактов (Q19) и self‑review/баг‑репорты (Q21).
Если часть пунктов не получена — отмечай как UNKNOWN и предлагай допущения.

## Rules
- Не изменять исходный код продукта; работа с файлами только в docs/review/migration.
- Если нет доступа к раннеру/окружению, опиши шаги, но зафиксируй UNKNOWN вместо выдумывания.
