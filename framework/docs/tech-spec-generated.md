# Сгенерированное ТЗ (самохост devframework)

## 1. Цель и критерий успеха
- Сделать devframework способным в любом хост‑репо (пустом или legacy) провести интервью, собрать ТЗ, запустить агента, выполнить разработку/тесты/сборку и корректно завершить с финальным уведомлением в текущем канале.
- MVP‑критерий: стабильный end‑to‑end проход без ручных апрувов, кроме стоп‑точек при нехватке данных/доступов.

## 2. Пользователь и опыт
- Роль: продуктовый владелец/доменный эксперт без навыков разработки.
- Ожидания: вопросы простым языком; минимум уточнений после интервью; финальный ответ в чате/терминале.

## 3. Область (scope)
- Включено: discovery-интервью, генерация ТЗ/плана/тест‑плана/inputs, оркестраторные потоки main/legacy/post, сбор логов и баг‑репортов, публикация артефактов.
- Исключено: фактическая бизнес‑логика хост‑приложений; оптимизация перфоманса (отложено до после‑MVP).

## 4. Архитектура/компоненты
- Orchestrator (python) + конфиг `orchestrator.json`; worktree‑ветки per task; lock/logs в `framework/logs`.
- Задачи: описаны в `framework/tasks/*.md`; карта параллельности — `docs/orchestrator-plan-ru.md`.
- Доковые артефакты: discovery лог, generated ТЗ/план/data inputs, review/test план, migration набор.
- Self‑review: `framework-review/*` (post‑run QA); баг‑репорты из хост‑проектов собираются централизованно.

## 5. Технологический стек (по умолчанию)
- Frontend: React + Tailwind.
- Backend: Node.js.
- BaaS/DB: Supabase (Postgres, RLS).
- Платежи: Stripe.
- Дополнительно: Python для утилит; WordPress/PHP при необходимости; деплой на Vercel или Netlify.
- Email алерты: Amazon SES при наличии.

## 6. Интеграции и доступы
- Начинать без кредов; при необходимости — стоп‑точка и запрос env‑файла с нужными секретами (Supabase, Stripe, SES, Vercel/Netlify).
- Секреты не логировать; редактировать перед экспортом отчётов.

## 7. Логирование и отчётность
- Лог вопросов/ответов (discovery), шагов оркестратора, тест‑результатов, баг‑репортов.
- Отчёты: `orchestrator-run-summary.md`, `review/*`, `framework-review/*`, экспорт/паблиш через tools.

## 8. Нефункциональные требования (MVP)
- Надёжность: «работает без ошибок» и все тесты зелёные важнее перфоманса.
- SLO/перф: не заданы на MVP; оптимизация после стабильности.

## 9. Деплой и окружения
- Целевые площадки: Vercel или Netlify.
- Рекомендация по умолчанию: dev / staging / prod, если не оговорено иначе.

## 10. Ограничения и правила
- Не менять исходный код хост‑продукта без явной задачи.
- Анонимизация/редакция чувствительных данных.
- Везде `project_id`, версионирование сущностей (version, is_current) для многоарендности.

## 11. TODO / UNKNOWN
- Уточнить формат централизованного сбора баг‑репортов от хост‑проектов (репозиторий, шаблон issue).
- Подтвердить минимальный состав env‑секретов для типового стека.
- Определить автоматический критерий «достаточно вопросов» в интервью (порог полноты).
